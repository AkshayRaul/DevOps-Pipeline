
<flow-definition plugin="workflow-job@2.31">
<actions/>
<description/>
<keepDependencies>false</keepDependencies>
<properties/>
<definition class="org.jenkinsci.plugins.workflow.cps.CpsFlowDefinition" plugin="workflow-cps@2.63">
<script>
pipeline{
  agent any
  stages{
    stage('Clone repository'){
     steps {
        git([url:'vagrant@192.168.20.10:/ansible-srv/iTrustBareGit',branch:'master',credentialsId:'mykey'])
      }
    }
    stage ('Build project') {
      steps{
        dir('iTrust2'){
        sh 'mvn -f pom-data.xml process-test-classes'
        sh 'mvn clean test checkstyle:checkstyle'
        }
        
    }
  }
  }
}
</script>
<sandbox>true</sandbox>
</definition>
<triggers/>
<disabled>false</disabled>
</flow-definition>
